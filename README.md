# HTTP-клиент с автоматическими метриками и retry-механизмом

HTTP-клиент на базе кастомного RoundTripper с опциональным retry-механизмом и автоматическим сбором метрик Prometheus через OpenTelemetry. Разработан для production-окружений микросервисной архитектуры с упором на надёжность и наблюдаемость.

Клиент автоматически собирает детальные метрики каждого HTTP-запроса без явных вызовов со стороны пользователя, обеспечивая полную прозрачность сетевых взаимодействий в кластере Kubernetes.

## Возможности

- Кастомный RoundTripper с полной совместимостью с http.Client
- Опциональный retry-механизм с exponential backoff + full jitter
- Автоматический сбор 6 типов Prometheus метрик через OpenTelemetry
- Политика идемпотентности для безопасных retry операций
- Поддержка Idempotency-Key для неидемпотентных операций
- Конфигурируемые таймауты (общий и per-try)
- Уважение заголовка Retry-After
- Опциональная OpenTelemetry трассировка
- Поддержка TLS, proxy, connection pooling

## Архитектурные принципы

**SOLID**: Интерфейс RoundTripper обеспечивает единую ответственность; клиент открыт для расширения через опции; компоненты слабо связаны через интерфейсы.

**YAGNI**: Реализованы только необходимые для production функции; retry по умолчанию отключён.

**DRY**: Общий код метрик и retry вынесен в переиспользуемые компоненты; конфигурация централизована.

## Структура репозитория

