# Изменения в обработке сетевых ошибок

## Удаление поддержки устаревшего метода Temporary()

### Контекст

Метод `Temporary()` из интерфейса `net.Error` официально deprecated начиная с Go 1.18, поскольку понятие "временной ошибки" плохо определено, и большинство таких ошибок являются тайм-аутами, которые уже покрываются методом `Timeout()`.

### Внесенные изменения

1. **Функция `isNetworkRetryableError` (retry.go:85-122)**:
   - Убрана проверка `temporary := netErr.Temporary()`
   - Оставлена только проверка `timeout := netErr.Timeout()`
   - Логика теперь ориентирована на тайм-ауты и специфические сообщения об ошибках сети

2. **Исправленный тест (retry_test.go:262)**:
   - Исправлено ожидаемое значение для ошибки с сообщением "connection timeout" с "net" на "timeout"
   - Теперь ошибки с тайм-аутом корректно классифицируются как "timeout"

3. **Исправленный тест (roundtripper_test.go:263-305)**:
   - `TestRoundTripper_NetworkError` изменен для использования ошибок с тайм-аутом вместо temporary errors
   - `mockNetworkError` теперь использует `timeout: true` вместо `temporary: true`

### Влияние на функциональность

- **Обратная совместимость**: сохранена, поскольку функции retry по-прежнему обрабатывают сетевые ошибки
- **Современный подход**: код теперь использует только рекомендуемые Go 1.18+ методы
- **Классификация ошибок**: ошибки с тайм-аутом теперь корректно классифицируются как "timeout", а не "net"
- **Надежность**: улучшена обработка ошибок за счет использования четко определенных критериев

### Протестированные сценарии

Все тесты проходят успешно, включая:
- `TestIsRetryableError`
- `TestIsNetworkRetryableError`  
- `TestClassifyError`
- `TestRoundTripper_NetworkError`
- Интеграционные тесты

Изменения не нарушают существующую логику retry и обеспечивают современный подход к обработке сетевых ошибок в соответствии с рекомендациями Go 1.18+.
